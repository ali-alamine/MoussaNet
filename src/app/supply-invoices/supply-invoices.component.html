<div class="container-fluid">
  <table class="table table-striped table-bordered table-hover table-sm noselect " id="supplyInvoicesDT">
    <thead>
    </thead>
    <tbody #contextScope >
    </tbody>
  </table>
</div>


<p-contextMenu [target]="contextScope" [model]="items" oncontextmenu="return false;"></p-contextMenu>
<div hidden>
  <button id="showInvoiceDetails" (click)="openInvoiceDetails(invoiceDetails)"></button>
  <button id="showPaymentsBtn" (click)="showInvoicePayments(invoicePayments)"></button>
  <button id="newPaymentBtn" (click)="openNewPaymentModal(paymentModal)"></button>
</div>

<ng-template #invoiceDetails let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Invoice Details</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <table class="table table-striped table-bordered table-hover table-sm noselect " id="invoiceDetailsDT">
      <thead>
      </thead>
      <tbody >
      </tbody>
    </table>
  </div>
  <div class="modal-footer">
    
  </div>
</ng-template>


<ng-template #invoicePayments let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Invoice Payments</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <table class="table table-striped table-bordered table-hover table-sm noselect " id="invoicePaymentsDT">
      <thead>
      </thead>
      <tbody >
      </tbody>
    </table>
  </div>
  <div class="modal-footer">
    
  </div>
</ng-template>






<ng-template #paymentModal let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">{{paymentModalTitle}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form fxLayout="column" [formGroup]="paymentForm" autocomplete="off">
      <div class="input-row" fxLayout="row">
        <mat-form-field class="inputField" fxFlex>
          <input matInput placeholder="Amount" formControlName="amount" type="number" autofocus>
          <mat-error> Amount is required and must be less than debit</mat-error>
        </mat-form-field>
      </div>
      <div class="input-row" fxLayout="row">
        <mat-form-field class="inputField" fxFlex>
          <input matInput placeholder="Comment" formControlName="comment" type="text">
        </mat-form-field>
      </div>
      <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">
        <mat-form-field class="inputField" fxFlex>
          <mat-select placeholder="Drawer" formControlName="drawerType">               
              <mat-option value="M">Recharge Cards</mat-option>
              <mat-option value="A">Accessories</mat-option>
            <mat-option value="S">Internet</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button mat-raised-button name="addButton" color="primary" (click)="addNewPayment()" [disabled]="!paymentForm.valid">Add Payment</button>
  </div>
</ng-template>


<ngx-spinner
bdColor = "rgba(51, 51, 51, 0.8)"
size = "medium"
color = "#ec0f0f"
type = "fire"
></ngx-spinner>